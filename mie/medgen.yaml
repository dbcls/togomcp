schema_info:
  title: MedGen (Medical Genetics)
  description: |
    NCBI's portal for medical conditions with genetic components, containing 233,939 clinical concepts (diseases, phenotypes, findings). Integrates data from OMIM, Orphanet, HPO, and MONDO with terminology mappings and relationship tracking. Relationships stored in MGREL entities (not as direct properties), attributes in MGSAT, cross-references via MGCONSO, and provenance via RDF reification.
  endpoint: https://rdfportal.org/ncbi/sparql
  base_uri: http://www.ncbi.nlm.nih.gov/medgen/
  graphs:
    - http://rdfportal.org/dataset/medgen
  kw_search_tools:
    - ncbi_esearch
  version:
    mie_version: "1.4"
    mie_created: "2025-01-27"
    mie_updated: "2025-02-03"
    data_version: Current NCBI release
    update_frequency: Monthly
  license:
    data_license: Public Domain (NCBI Data)
    license_url: https://www.ncbi.nlm.nih.gov/home/about/policies/
  access:
    rate_limiting: 100 queries/min (RDF Portal limit)
    max_query_timeout: 60 seconds
    backend: Virtuoso

shape_expressions: |
  PREFIX mo: <http://med2rdf/ontology/medgen#>
  PREFIX dct: <http://purl.org/dc/terms/>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX sty: <http://purl.bioontology.org/ontology/STY/>
  
  <ConceptIDShape> {
    a [ mo:ConceptID ] ;
    dct:identifier xsd:string ;
    rdfs:label xsd:string + ;
    mo:sty IRI ;
    skos:definition xsd:string ? ;
    mo:name BNode ;
    mo:mgdef BNode ? ;
    mo:mgconso BNode + ;
    mo:mgsat BNode +
  }
  
  <MGRELShape> {
    a [ mo:MGREL ] ;
    dct:identifier xsd:string ;
    mo:cui1 @<ConceptIDShape> ;
    mo:aui1 xsd:string ;
    mo:cui2 @<ConceptIDShape> ;
    mo:aui2 xsd:string ;
    dct:source IRI ;
    mo:suppress IRI ? ;
    mo:rela xsd:string
  }
  
  <MGSATShape> {
    a [ mo:MGSAT ] ;
    mo:atui xsd:string ;
    mo:cui @<ConceptIDShape> ;
    mo:atn xsd:string ;
    mo:atv xsd:string ;
    dct:source IRI
  }
  
  <MGCONSOShape> {
    rdfs:seeAlso IRI + ;
    mo:aui xsd:string ;
    mo:lat xsd:string ;
    mo:ts IRI ;
    mo:tty xsd:string ;
    dct:source IRI
  }
  
  <ReificationStatementShape> {
    a [ rdf:Statement ] ;
    rdf:subject IRI ;
    rdf:predicate IRI ;
    rdf:object IRI ;
    dct:source IRI ;
    mo:sty IRI ? ;
    rdfs:comment xsd:string ?
  }

sample_rdf_entries:
  - title: Core Disease Concept - Acute Myeloid Leukemia
    description: Disease concept with identifier, labels, semantic type, and definition.
    rdf: |
      @prefix mo: <http://med2rdf/ontology/medgen#> .
      @prefix dct: <http://purl.org/dc/terms/> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix skos: <http://www.w3.org/2004/02/skos/core#> .
      
      <http://www.ncbi.nlm.nih.gov/medgen/C0023467> a mo:ConceptID ;
          dct:identifier "C0023467" ;
          rdfs:label "Acute myeloid leukemia"@en ;
          mo:sty <http://purl.bioontology.org/ontology/STY/T191> ;
          skos:definition "A myeloid neoplasm characterized by..."@en ;
          mo:mgconso [
              rdfs:seeAlso <http://id.nlm.nih.gov/mesh/D015470> ;
              rdfs:seeAlso <http://purl.obolibrary.org/obo/MONDO_0018874>
          ] .

  - title: Relationship Record (MGREL)
    description: Relationship between two concepts with source attribution.
    rdf: |
      @prefix mo: <http://med2rdf/ontology/medgen#> .
      @prefix dct: <http://purl.org/dc/terms/> .
      
      [] a mo:MGREL ;
          dct:identifier "R001234567" ;
          mo:cui1 <http://www.ncbi.nlm.nih.gov/medgen/C0023467> ;
          mo:aui1 "A0123456" ;
          mo:cui2 <http://www.ncbi.nlm.nih.gov/medgen/C0023470> ;
          mo:aui2 "A0789012" ;
          mo:rela "inverse_isa" ;
          dct:source <http://id.nlm.nih.gov/mesh/vocab> .

  - title: Terminology Mapping (MGCONSO)
    description: Maps concepts to MeSH, MONDO, HPO, and OMIM.
    rdf: |
      @prefix mo: <http://med2rdf/ontology/medgen#> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      
      <http://www.ncbi.nlm.nih.gov/medgen/C0000744> mo:mgconso [
          rdfs:seeAlso <http://identifiers.org/mim/200100> ;
          rdfs:seeAlso <http://id.nlm.nih.gov/mesh/D000744> ;
          rdfs:seeAlso <http://purl.obolibrary.org/obo/MONDO_0007037>
      ] .

  - title: Attribute Record (MGSAT)
    description: Stores attributes like inheritance patterns or phenotypic features.
    rdf: |
      @prefix mo: <http://med2rdf/ontology/medgen#> .
      @prefix dct: <http://purl.org/dc/terms/> .
      
      [] a mo:MGSAT ;
          mo:atui "AT0123456" ;
          mo:cui <http://www.ncbi.nlm.nih.gov/medgen/C0000744> ;
          mo:atn "INHERITANCE" ;
          mo:atv "Autosomal recessive" ;
          dct:source <http://id.nlm.nih.gov/mesh/vocab> .

  - title: RDF Reification for Relationship Provenance
    description: Tracks source attribution for relationships.
    rdf: |
      @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
      @prefix mo: <http://med2rdf/ontology/medgen#> .
      @prefix dct: <http://purl.org/dc/terms/> .
      
      [] a rdf:Statement ;
          rdf:subject <http://www.ncbi.nlm.nih.gov/medgen/C4025901> ;
          rdf:predicate mo:manifestation_of ;
          rdf:object <http://www.ncbi.nlm.nih.gov/medgen/C0432273> ;
          dct:source <http://id.nlm.nih.gov/mesh/vocab> ;
          mo:sty <http://purl.bioontology.org/ontology/STY/T047> .

sparql_query_examples:
  - title: Basic - Find Concept by Identifier
    description: Retrieve basic information for a MedGen concept using its CUI.
    question: What is the basic information for MedGen concept C0023467?
    complexity: basic
    sparql: |
      PREFIX mo: <http://med2rdf/ontology/medgen#>
      PREFIX dct: <http://purl.org/dc/terms/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
      
      SELECT ?concept ?identifier ?label ?sty ?definition
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?concept a mo:ConceptID ;
            dct:identifier "C0023467" ;
            rdfs:label ?label ;
            mo:sty ?sty .
        BIND("C0023467" as ?identifier)
        OPTIONAL { ?concept skos:definition ?definition }
      }
      LIMIT 10

  - title: Basic - Search by Keyword Using bif:contains
    description: Search for disease concepts by keyword with full-text search.
    question: Find all concepts related to "diabetes" in their labels.
    complexity: basic
    sparql: |
      PREFIX mo: <http://med2rdf/ontology/medgen#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dct: <http://purl.org/dc/terms/>
      
      SELECT ?concept ?identifier ?label
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?concept a mo:ConceptID ;
            rdfs:label ?label ;
            dct:identifier ?identifier .
        ?label bif:contains "'diabetes'" option (score ?sc) .
      }
      ORDER BY DESC(?sc)
      LIMIT 50

  - title: Intermediate - Find Concepts by Semantic Type
    description: Retrieve all concepts classified under a UMLS semantic type.
    question: What are disease concepts (semantic type T047) in MedGen?
    complexity: intermediate
    sparql: |
      PREFIX mo: <http://med2rdf/ontology/medgen#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dct: <http://purl.org/dc/terms/>
      PREFIX sty: <http://purl.bioontology.org/ontology/STY/>
      
      SELECT ?concept ?identifier ?label
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?concept a mo:ConceptID ;
            mo:sty sty:T047 ;
            rdfs:label ?label ;
            dct:identifier ?identifier .
      }
      LIMIT 100

  - title: Intermediate - Find Relationships via MGREL
    description: Identify hierarchical, manifestation, or gene relationships for a concept.
    question: What are the related concepts for diabetes mellitus?
    complexity: intermediate
    sparql: |
      PREFIX mo: <http://med2rdf/ontology/medgen#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dct: <http://purl.org/dc/terms/>
      
      SELECT ?disease ?disease_label ?related ?related_label ?rel_type
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?disease a mo:ConceptID ;
            dct:identifier "C0011849" ;
            rdfs:label ?disease_label .
        ?rel a mo:MGREL ;
            mo:cui1 ?disease ;
            mo:cui2 ?related ;
            mo:rela ?rel_type .
        ?related rdfs:label ?related_label .
        FILTER(CONTAINS(LCASE(?rel_type), "gene") || CONTAINS(LCASE(?rel_type), "manifestation") || CONTAINS(LCASE(?rel_type), "isa"))
        FILTER(?disease != ?related)
      }
      LIMIT 20

  - title: Intermediate - Retrieve External Database Cross-References
    description: Get all external database identifiers linked to a MedGen concept.
    question: What external databases reference MedGen concept C0011849?
    complexity: intermediate
    sparql: |
      PREFIX mo: <http://med2rdf/ontology/medgen#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dct: <http://purl.org/dc/terms/>
      
      SELECT DISTINCT ?concept ?identifier ?external_db
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?concept a mo:ConceptID ;
            dct:identifier "C0011849" ;
            mo:mgconso ?bn .
        ?bn rdfs:seeAlso ?external_db .
        BIND("C0011849" as ?identifier)
      }
      LIMIT 20

  - title: Advanced - Find Disease Hierarchy via MGREL
    description: Navigate the disease hierarchy to find parent and child concepts.
    question: What are the parent and child diseases of a specific condition?
    complexity: advanced
    sparql: |
      PREFIX mo: <http://med2rdf/ontology/medgen#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dct: <http://purl.org/dc/terms/>
      
      SELECT ?concept ?label ?rel_type ?related ?related_label
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?concept a mo:ConceptID ;
            dct:identifier "C0011849" ;
            rdfs:label ?label .
        ?rel a mo:MGREL ;
            mo:cui1 ?concept ;
            mo:cui2 ?related ;
            mo:rela ?rel_type .
        ?related rdfs:label ?related_label .
        FILTER(?rel_type = "isa" || ?rel_type = "inverse_isa")
        FILTER(?concept != ?related)
      }
      LIMIT 100

  - title: Advanced - Complex Disease-Phenotype Network via MGREL
    description: Retrieve disease-phenotype manifestation networks.
    question: For a given disease, what are its phenotypic manifestations?
    complexity: advanced
    sparql: |
      PREFIX mo: <http://med2rdf/ontology/medgen#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX dct: <http://purl.org/dc/terms/>
      
      SELECT DISTINCT ?disease ?disease_label ?phenotype ?phenotype_label
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?disease a mo:ConceptID ;
            dct:identifier "C0011849" ;
            rdfs:label ?disease_label .
        ?rel a mo:MGREL ;
            mo:cui1 ?disease ;
            mo:cui2 ?phenotype ;
            mo:rela ?rel_type .
        ?phenotype rdfs:label ?phenotype_label .
        FILTER(?rel_type = "has_manifestation")
        FILTER(?disease != ?phenotype)
      }
      LIMIT 100

cross_database_queries:
  shared_endpoint: ncbi
  co_located_databases:
    - clinvar
    - pubmed
    - pubtator
    - ncbigene
  examples:
    - title: Link Genetic Diseases to Associated Variants (ClinVar)
      description: |
        Integrates MedGen disease concepts with ClinVar variant data to enable variant interpretation workflows. Handles namespace differences through URI conversion (www.ncbi.nlm.nih.gov → ncbi.nlm.nih.gov).
      databases_used:
        - medgen
        - clinvar
      complexity: intermediate
      sparql: |
        PREFIX mo: <http://med2rdf/ontology/medgen#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX dct: <http://purl.org/dc/terms/>
        PREFIX cvo: <http://purl.jp/bio/10/clinvar/>
        PREFIX med2rdf: <http://med2rdf.org/ontology/med2rdf#>
        
        SELECT ?medgen_cui ?medgen_label ?variant_label ?var_type ?significance
        WHERE {
          GRAPH <http://rdfportal.org/dataset/medgen> {
            VALUES ?medgen_cui { "C0011849" }
            ?medgen_concept a mo:ConceptID ;
                            dct:identifier ?medgen_cui ;
                            rdfs:label ?medgen_label .
            BIND(IRI(REPLACE(STR(?medgen_concept), "www.ncbi", "ncbi")) AS ?cv_medgen_uri)
          }
          GRAPH <http://rdfportal.org/dataset/clinvar> {
            ?disease a med2rdf:Disease ;
                     dct:references ?ref .
            ?ref rdfs:seeAlso ?cv_medgen_uri .
            ?variant a cvo:VariationArchiveType ;
                     rdfs:label ?variant_label ;
                     cvo:variation_type ?var_type ;
                     med2rdf:disease ?disease ;
                     cvo:classified_record ?classrec .
            ?classrec cvo:classifications ?classi .
            ?classi cvo:germline_classification ?germ .
            ?germ cvo:description ?significance .
          }
        }
        LIMIT 10
      notes: |
        - Strategies: 1 (GRAPH), 3 (VALUES), 4 (split paths), 5 (URI conversion)
        - URI conversion: MedGen uses www.ncbi.nlm.nih.gov, ClinVar uses ncbi.nlm.nih.gov
        - VALUES reduces search from 233K to 1 concept (99.9%+ reduction)
        - Split property paths prevent timeout (cvo:classified_record → cvo:classifications → ...)
        - Performance: ~3-5s (Tier 2)
        - MIE files referenced: medgen, clinvar

cross_references:
  - pattern: rdfs:seeAlso (via mo:mgconso blank nodes)
    description: |
      Concepts link to external databases through mgconso blank nodes containing rdfs:seeAlso properties. Provides terminology mappings to multiple resources.
    databases:
      Medical Ontologies:
        - "MONDO: ~70% coverage"
        - "HPO: ~40% coverage"
        - "Orphanet: ~20% for rare diseases"
      Terminologies:
        - "MeSH: ~80% coverage"
        - "SNOMED CT: ~60% coverage"
        - "ICD-10: ~50% coverage"
      Genetic Databases:
        - "OMIM: ~30% coverage"
        - "ClinVar: via URI conversion for variants"
        - "NCBI Gene: limited (gene associations use concept IDs)"
    sparql: |
      PREFIX mo: <http://med2rdf/ontology/medgen#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
      SELECT ?concept ?external_db
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?concept a mo:ConceptID ;
            mo:mgconso ?bn .
        ?bn rdfs:seeAlso ?external_db .
        FILTER(STRSTARTS(STR(?external_db), "http://purl.obolibrary.org/obo/MONDO_"))
      }
      LIMIT 100

architectural_notes:
  schema_design:
    - Five entity types: ConceptID (clinical concepts), MGREL (relationships), MGSAT (attributes), MGCONSO (terminology mappings), rdf:Statement (provenance)
    - ConceptID uses UMLS CUI identifiers (C-prefixed strings)
    - CRITICAL - Relationships stored in MGREL entities, NOT as direct ConceptID properties
    - Blank nodes for MGCONSO and MGSAT to group related properties
    - RDF reification (206K statements) tracks provenance with dct:source, mo:sty, rdfs:comment
  performance:
    - Identifier lookup: <1s
    - bif:contains keyword search: 2-5s
    - MGREL traversal: 2-5s
    - Full cross-reference retrieval: 5-15s (use DISTINCT)
    - Avoid aggregating MGREL/MGSAT/rdf:Statement without LIMIT (>1M records each)
  cross_database:
    - ClinVar integration: 3-5s (Tier 2) with optimizations
    - Use explicit GRAPH clauses (Strategy 1)
    - Pre-filter with VALUES (Strategy 3) - 99.9%+ reduction
    - Split property paths (Strategy 4) - prevents timeouts
    - URI conversion required (Strategy 5) - www.ncbi vs ncbi namespace
  data_integration:
    - Primary integration via mgconso (rdfs:seeAlso to external URIs)
    - External URIs: identifiers.org (OMIM), purl.obolibrary.org (ontologies), id.nlm.nih.gov (MeSH)
    - Common MGREL relationship types: isa, inverse_isa, has_manifestation, manifestation_of, process_involves_gene
    - ClinVar linkage: disease → dct:references → blank node → rdfs:seeAlso → MedGen URI (with conversion)
  data_quality:
    - skos:definition coverage: ~34%
    - MGCONSO mapping variation: MeSH 80%, MONDO 70%, OMIM 30%
    - Some relationships use mo:undefined_relationship
    - Gene associations use concept IDs (C-prefixed), not numeric NCBI Gene IDs
    - Cross-references often duplicated - always use DISTINCT

data_statistics:
  total_concepts: 233939
  verified_date: "2025-02-03"
  verification_query: |
    SELECT (COUNT(DISTINCT ?c) as ?count)
    FROM <http://rdfportal.org/dataset/medgen>
    WHERE { ?c a mo:ConceptID }
  
  total_relationships: 1130420
  total_attributes: 1117180
  total_reification_statements: 206430
  
  coverage:
    definition_coverage: "33.6% (78,578 of 233,939)"
    verified_date: "2025-02-03"
    verification_query: |
      SELECT (COUNT(DISTINCT ?c) as ?total) (COUNT(DISTINCT ?d) as ?with_def)
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?c a mo:ConceptID .
        OPTIONAL { ?d a mo:ConceptID ; skos:definition ?def FILTER(?d = ?c) }
      }
    
    external_mapping: "~90% have at least one external cross-reference"
    note: "Coverage varies by database: MeSH 80%, MONDO 70%, OMIM 30%"
  
  cardinality:
    avg_relationships_per_concept: 4.8
    avg_external_refs_per_concept: 3.2
    avg_attributes_per_concept: 4.8
    methodology: "Total counts divided by total concepts"
  
  performance_characteristics:
    - "Identifier lookup: <1s"
    - "bif:contains search: 2-5s"
    - "MGREL traversal: 2-5s"
    - "Cross-reference retrieval: 5-15s (use DISTINCT)"
    - "ClinVar cross-DB: 3-5s (Tier 2) with optimizations"
  
  staleness_warning: "Monthly updates from NCBI - statistics current as of February 2025"

anti_patterns:
  - title: Using Direct Relationship Properties on ConceptID
    problem: Relationships are stored in MGREL entities, not as direct properties.
    wrong_sparql: |
      SELECT ?disease ?gene
      WHERE { ?disease mo:disease_has_associated_gene ?gene }
    correct_sparql: |
      SELECT ?disease ?gene
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?rel a mo:MGREL ;
            mo:cui1 ?disease ;
            mo:cui2 ?gene ;
            mo:rela ?rel_type .
        FILTER(CONTAINS(LCASE(?rel_type), "gene"))
      }
      LIMIT 100
    explanation: All relationships between concepts use MGREL entities with mo:rela specifying type.

  - title: Not Using DISTINCT for Cross-References
    problem: mgconso cross-references return many duplicate rows.
    wrong_sparql: |
      SELECT ?concept ?external_db
      WHERE {
        ?concept mo:mgconso ?bn .
        ?bn rdfs:seeAlso ?external_db .
      }
    correct_sparql: |
      SELECT DISTINCT ?concept ?external_db
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?concept mo:mgconso ?bn .
        ?bn rdfs:seeAlso ?external_db .
      }
      LIMIT 100
    explanation: Always use DISTINCT with mgconso to avoid duplicate external references.

  - title: Cross-Database Property Paths Without Splitting
    problem: Complex property paths in cross-database queries cause timeouts.
    wrong_sparql: |
      WHERE {
        GRAPH <http://rdfportal.org/dataset/clinvar> {
          ?variant cvo:classified_record/cvo:classifications/cvo:germline_classification/cvo:description ?sig .
        }
      }
    correct_sparql: |
      WHERE {
        GRAPH <http://rdfportal.org/dataset/clinvar> {
          ?variant cvo:classified_record ?classrec .
          ?classrec cvo:classifications ?classi .
          ?classi cvo:germline_classification ?germ .
          ?germ cvo:description ?sig .
        }
      }
      LIMIT 100
    explanation: Split property paths into individual triple patterns (Strategy 4) to prevent timeouts.

common_errors:
  - error: Empty results when querying for relationships
    causes:
      - Using direct relationship properties instead of MGREL
      - Missing FROM clause
    solutions:
      - Always use MGREL: ?rel a mo:MGREL ; mo:cui1 ?c1 ; mo:cui2 ?c2 ; mo:rela ?type
      - Include FROM <http://rdfportal.org/dataset/medgen>
    example_fix: |
      # Wrong
      SELECT ?disease ?gene WHERE { ?disease mo:disease_has_associated_gene ?gene }
      
      # Correct
      SELECT ?disease ?gene
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?rel a mo:MGREL ; mo:cui1 ?disease ; mo:cui2 ?gene ; mo:rela ?type .
        FILTER(CONTAINS(LCASE(?type), "gene"))
      }
      LIMIT 100

  - error: Query timeout when exploring relationships
    causes:
      - Querying MGREL/MGSAT/rdf:Statement without LIMIT (>1M records each)
    solutions:
      - Always add LIMIT (100-1000 for exploration)
      - Use specific concept identifiers to narrow scope
    example_fix: |
      # Timeout risk
      SELECT ?cui1 ?cui2 ?rela WHERE { ?rel a mo:MGREL ; mo:cui1 ?cui1 ; mo:cui2 ?cui2 ; mo:rela ?rela }
      
      # Safe
      SELECT ?cui2 ?rela
      FROM <http://rdfportal.org/dataset/medgen>
      WHERE {
        ?rel a mo:MGREL ;
            mo:cui1 <http://www.ncbi.nlm.nih.gov/medgen/C0023467> ;
            mo:cui2 ?cui2 ;
            mo:rela ?rela .
      }
      LIMIT 100

  - error: Cross-database query returns no results
    causes:
      - URI pattern mismatch (www.ncbi.nlm.nih.gov vs ncbi.nlm.nih.gov)
      - Property paths causing timeouts
    solutions:
      - Convert URIs: BIND(IRI(REPLACE(STR(?medgen_concept), "www.ncbi", "ncbi")) AS ?cv_uri)
      - Split property paths into individual patterns
      - Use VALUES for specific concepts
    example_fix: |
      # Wrong - no URI conversion
      WHERE {
        GRAPH <http://rdfportal.org/dataset/medgen> { ?medgen_concept a mo:ConceptID }
        GRAPH <http://rdfportal.org/dataset/clinvar> { ?ref rdfs:seeAlso ?medgen_concept }
      }
      
      # Correct - URI conversion
      WHERE {
        GRAPH <http://rdfportal.org/dataset/medgen> {
          VALUES ?cui { "C0011849" }
          ?medgen_concept a mo:ConceptID ; dct:identifier ?cui .
          BIND(IRI(REPLACE(STR(?medgen_concept), "www.ncbi", "ncbi")) AS ?cv_uri)
        }
        GRAPH <http://rdfportal.org/dataset/clinvar> { ?ref rdfs:seeAlso ?cv_uri }
      }
      LIMIT 100
