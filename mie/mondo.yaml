schema_info:
  title: MONDO (Monarch Disease Ontology)
  description: |
    Comprehensive disease ontology integrating 39+ disease databases into unified classification. Covers 30,000+ disease classes including genetic disorders, infectious diseases, cancers, and rare diseases with cross-references to OMIM, Orphanet, DOID, MESH, ICD, UMLS, and clinical terminologies for precision medicine and translational research.
  endpoint: https://rdfportal.org/primary/sparql
  base_uri: http://purl.obolibrary.org/obo/
  graphs:
    - http://rdfportal.org/ontology/mondo
  kw_search_tools:
    - OLS4:searchClasses
  version:
    mie_version: "1.4"
    mie_created: "2024-12-23"
    mie_updated: "2025-02-04"
    data_version: "2024"
    update_frequency: "Monthly"
  license:
    data_license: "CC BY 4.0"
    license_url: "https://creativecommons.org/licenses/by/4.0/"
  access:
    rate_limiting: "No strict limits"
    max_query_timeout: "60 seconds"
    backend: "Virtuoso"

shape_expressions: |
  PREFIX owl: <http://www.w3.org/2002/07/owl#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
  PREFIX IAO: <http://purl.obolibrary.org/obo/IAO_>
  
  <DiseaseClass> {
    a [ owl:Class ] ;
    rdfs:label xsd:string ;
    oboInOwl:id xsd:string ;
    IAO:0000115 xsd:string ? ;
    rdfs:subClassOf @<DiseaseClass> * ;
    oboInOwl:hasExactSynonym xsd:string * ;
    oboInOwl:hasRelatedSynonym xsd:string * ;
    oboInOwl:hasDbXref xsd:string * ;
    owl:deprecated xsd:boolean ?
  }

sample_rdf_entries:
  - title: Disease with Cross-References
    description: Skeletal dysplasia with OMIM and Orphanet links.
    rdf: |
      @prefix obo: <http://purl.obolibrary.org/obo/> .
      @prefix owl: <http://www.w3.org/2002/07/owl#> .
      @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
      @prefix oboInOwl: <http://www.geneontology.org/formats/oboInOwl#> .
      
      obo:MONDO_0000003 a owl:Class ;
        rdfs:label "achondroplasia" ;
        oboInOwl:id "MONDO:0000003" ;
        obo:IAO_0000115 "A skeletal dysplasia characterized by short-limb dwarfism." ;
        rdfs:subClassOf obo:MONDO_0019695 ;
        oboInOwl:hasExactSynonym "achondroplastic dwarfism" ;
        oboInOwl:hasDbXref "OMIM:100800", "Orphanet:15" .

  - title: Root Disease Class
    description: Top-level disease entity in ontology hierarchy.
    rdf: |
      obo:MONDO_0000001 a owl:Class ;
        rdfs:label "disease or disorder" ;
        oboInOwl:id "MONDO:0000001" ;
        obo:IAO_0000115 "A disease is a disposition to undergo pathological processes." .

  - title: Disease with ICD Mapping
    description: Diabetes with clinical classification codes.
    rdf: |
      obo:MONDO_0005147 a owl:Class ;
        rdfs:label "type 1 diabetes mellitus" ;
        oboInOwl:id "MONDO:0005147" ;
        oboInOwl:hasDbXref "ICD10:E10", "MESH:D003922" .

  - title: Rare Disease Entry
    description: Rare genetic disorder with orphan database references.
    rdf: |
      obo:MONDO_0007739 a owl:Class ;
        rdfs:label "Huntington disease" ;
        oboInOwl:id "MONDO:0007739" ;
        oboInOwl:hasDbXref "Orphanet:399", "OMIM:143100" .

  - title: Cancer Classification
    description: Neoplasm with hierarchical parent relationship.
    rdf: |
      obo:MONDO_0004992 a owl:Class ;
        rdfs:label "cancer" ;
        oboInOwl:id "MONDO:0004992" ;
        rdfs:subClassOf obo:MONDO_0005070 .

sparql_query_examples:
  - title: Search Diseases by Keyword
    description: Full-text search with relevance scoring.
    question: Which diseases relate to diabetes?
    complexity: basic
    sparql: |
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      
      SELECT ?disease ?mondoId ?label
      FROM <http://rdfportal.org/ontology/mondo>
      WHERE {
        ?disease a owl:Class ;
          rdfs:label ?label ;
          oboInOwl:id ?mondoId .
        ?label bif:contains "'diabetes'" option (score ?sc)
      }
      ORDER BY DESC(?sc)
      LIMIT 20

  - title: Get Disease Annotations
    description: Retrieve definition, synonyms, and parent classes.
    question: What are the biological annotations for a disease?
    complexity: basic
    sparql: |
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      PREFIX IAO: <http://purl.obolibrary.org/obo/IAO_>
      
      SELECT ?label ?definition ?synonym ?parentLabel
      FROM <http://rdfportal.org/ontology/mondo>
      WHERE {
        obo:MONDO_0005147 rdfs:label ?label .
        OPTIONAL { obo:MONDO_0005147 IAO:0000115 ?definition }
        OPTIONAL { obo:MONDO_0005147 oboInOwl:hasExactSynonym ?synonym }
        OPTIONAL { 
          obo:MONDO_0005147 rdfs:subClassOf ?parent .
          ?parent rdfs:label ?parentLabel .
          FILTER(isIRI(?parent))
        }
      }

  - title: Get Disease Hierarchy Path
    description: Retrieve all ancestor classes.
    question: What are all parent classes of a disease?
    complexity: intermediate
    sparql: |
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      
      SELECT ?parent ?parentId ?parentLabel
      FROM <http://rdfportal.org/ontology/mondo>
      WHERE {
        obo:MONDO_0005147 rdfs:subClassOf+ ?parent .
        ?parent rdfs:label ?parentLabel ;
          oboInOwl:id ?parentId .
        FILTER(isIRI(?parent))
      }

  - title: Count Diseases by Category
    description: Aggregate disease counts by parent classes.
    question: How many diseases in each major category?
    complexity: intermediate
    sparql: |
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      
      SELECT ?parentLabel (COUNT(?disease) as ?count)
      FROM <http://rdfportal.org/ontology/mondo>
      WHERE {
        ?disease a owl:Class ;
          rdfs:subClassOf ?parent .
        ?parent rdfs:label ?parentLabel .
        FILTER(isIRI(?parent))
      }
      GROUP BY ?parentLabel
      ORDER BY DESC(?count)
      LIMIT 20

  - title: Find Diseases with External Links
    description: Retrieve diseases with specific cross-references.
    question: Which diseases have OMIM references?
    complexity: intermediate
    sparql: |
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      
      SELECT ?disease ?label ?xref
      FROM <http://rdfportal.org/ontology/mondo>
      WHERE {
        ?disease a owl:Class ;
          rdfs:label ?label ;
          oboInOwl:hasDbXref ?xref .
        FILTER(STRSTARTS(?xref, "OMIM:"))
      }
      LIMIT 50

  - title: Find Genetic Diseases
    description: Retrieve all diseases classified under genetic disorders.
    question: Which diseases are genetic disorders or subtypes?
    complexity: advanced
    sparql: |
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX obo: <http://purl.obolibrary.org/obo/>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      
      SELECT ?disease ?mondoId ?label
      FROM <http://rdfportal.org/ontology/mondo>
      WHERE {
        ?disease a owl:Class ;
          rdfs:label ?label ;
          oboInOwl:id ?mondoId ;
          rdfs:subClassOf* obo:MONDO_0003847 .
      }
      LIMIT 50

  - title: Comprehensive Disease Profile
    description: Multi-faceted query combining hierarchy, synonyms, and cross-references.
    question: Get complete annotation profile for cancer-related diseases.
    complexity: advanced
    sparql: |
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      PREFIX IAO: <http://purl.obolibrary.org/obo/IAO_>
      
      SELECT ?disease ?mondoId ?label ?definition ?sc
        (GROUP_CONCAT(DISTINCT ?synonym; SEPARATOR="|") as ?synonyms)
        (GROUP_CONCAT(DISTINCT ?xref; SEPARATOR="|") as ?crossRefs)
      FROM <http://rdfportal.org/ontology/mondo>
      WHERE {
        ?disease a owl:Class ;
          rdfs:label ?label ;
          oboInOwl:id ?mondoId .
        OPTIONAL { ?disease IAO:0000115 ?definition }
        OPTIONAL { ?disease oboInOwl:hasExactSynonym ?synonym }
        OPTIONAL { ?disease oboInOwl:hasDbXref ?xref }
        ?label bif:contains "'cancer'" option (score ?sc)
      }
      GROUP BY ?disease ?mondoId ?label ?definition ?sc
      ORDER BY DESC(?sc)
      LIMIT 10

cross_database_queries:
  shared_endpoint: primary
  co_located_databases: [mesh, go, taxonomy, nando, bacdive, mediadive]
  examples:
    - title: Link MONDO to MeSH Medical Terminology
      description: |
        Integrate disease ontology with clinical terminology using hasDbXref. Supports literature reviews and clinical research.
      databases_used: [mondo, mesh]
      complexity: intermediate
      sparql: |
        PREFIX owl: <http://www.w3.org/2002/07/owl#>
        PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
        
        SELECT ?mondoDisease ?mondoLabel ?meshDescriptor ?meshLabel ?meshXref
        WHERE {
          GRAPH <http://rdfportal.org/ontology/mondo> {
            ?mondoDisease a owl:Class ;
              rdfs:label ?mondoLabel ;
              oboInOwl:hasDbXref ?meshXref .
            FILTER(STRSTARTS(?meshXref, "MESH:"))
            ?mondoLabel bif:contains "'diabetes'" option (score ?sc)
          }
          BIND(URI(CONCAT("http://id.nlm.nih.gov/mesh/", SUBSTR(?meshXref, 6))) AS ?meshDescriptor)
          GRAPH <http://id.nlm.nih.gov/mesh> {
            ?meshDescriptor a meshv:TopicalDescriptor ;
              rdfs:label ?meshLabel .
          }
        }
        ORDER BY DESC(?sc)
        LIMIT 10
      notes: |
        - Strategies: 1 (GRAPH), 2 (pre-filter), 4 (bif:contains), 5 (URI conversion), 10 (LIMIT)
        - Performance: ~2-3s (Tier 1), 99.97% reduction (30K→~10) before join
        - Coverage: ~28% of MONDO diseases (~8,500 mappings)

    - title: Connect MONDO to NANDO Japanese Rare Diseases
      description: |
        Bridge international disease ontology with Japanese intractable disease database using skos:closeMatch from NANDO.
      databases_used: [mondo, nando]
      complexity: intermediate
      sparql: |
        PREFIX owl: <http://www.w3.org/2002/07/owl#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
        PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
        PREFIX nando: <http://nanbyodata.jp/ontology/NANDO_>
        
        SELECT ?mondoDisease ?mondoLabel ?nandoDisease ?nandoLabelJa ?nandoLabelEn ?notifNum
        WHERE {
          GRAPH <http://nanbyodata.jp/ontology/nando> {
            ?nandoDisease a owl:Class ;
              skos:closeMatch ?mondoDisease ;
              rdfs:label ?nandoLabelJa ;
              rdfs:label ?nandoLabelEn .
            OPTIONAL { ?nandoDisease nando:hasNotificationNumber ?notifNum }
            FILTER(STRSTARTS(STR(?mondoDisease), "http://purl.obolibrary.org/obo/MONDO_"))
            FILTER(LANG(?nandoLabelJa) = "ja" && !REGEX(STR(?nandoLabelJa), "^[\u3041-\u3093]+$"))
            FILTER(LANG(?nandoLabelEn) = "en")
            ?nandoLabelEn bif:contains "'diabetes'" option (score ?sc)
          }
          GRAPH <http://rdfportal.org/ontology/mondo> {
            ?mondoDisease a owl:Class ;
              rdfs:label ?mondoLabel .
          }
        }
        ORDER BY DESC(?sc)
        LIMIT 10
      notes: |
        - Strategies: 1 (GRAPH), 2 (pre-filter), 4 (bif:contains), 10 (LIMIT)
        - Performance: ~2-4s (Tier 1)
        - Coverage: ~84% of NANDO diseases (2,341 of 2,777)

    - title: Three-Way MONDO-NANDO-MeSH Integration
      description: |
        Three-database integration using MONDO as bridge between NANDO and MeSH for Japanese researchers.
      databases_used: [mondo, nando, mesh]
      complexity: advanced
      sparql: |
        PREFIX owl: <http://www.w3.org/2002/07/owl#>
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
        PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
        PREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>
        PREFIX nando: <http://nanbyodata.jp/ontology/NANDO_>
        
        SELECT DISTINCT ?nandoLabelJa ?nandoLabelEn ?mondoLabel ?meshLabel ?notifNum
        WHERE {
          GRAPH <http://nanbyodata.jp/ontology/nando> {
            ?nandoDisease a owl:Class ;
              skos:closeMatch ?mondoDisease ;
              rdfs:label ?nandoLabelJa ;
              rdfs:label ?nandoLabelEn .
            OPTIONAL { ?nandoDisease nando:hasNotificationNumber ?notifNum }
            FILTER(STRSTARTS(STR(?mondoDisease), "http://purl.obolibrary.org/obo/MONDO_"))
            FILTER(LANG(?nandoLabelJa) = "ja" && !REGEX(STR(?nandoLabelJa), "^[\u3041-\u3093]+$"))
            FILTER(LANG(?nandoLabelEn) = "en")
            FILTER(CONTAINS(LCASE(?nandoLabelEn), "parkinson"))
          }
          GRAPH <http://rdfportal.org/ontology/mondo> {
            ?mondoDisease a owl:Class ;
              rdfs:label ?mondoLabel ;
              oboInOwl:hasDbXref ?meshXref .
            FILTER(STRSTARTS(?meshXref, "MESH:"))
          }
          BIND(URI(CONCAT("http://id.nlm.nih.gov/mesh/", SUBSTR(?meshXref, 6))) AS ?meshDescriptor)
          GRAPH <http://id.nlm.nih.gov/mesh> {
            ?meshDescriptor a meshv:TopicalDescriptor ;
              rdfs:label ?meshLabel .
          }
        }
        LIMIT 10
      notes: |
        - Strategies: 1 (GRAPH), 2 (pre-filter), 5 (URI conversion), 10 (LIMIT)
        - Performance: ~3-6s (Tier 2)
        - Note: Uses CONTAINS instead of multiple bif:contains for stability

cross_references:
  - pattern: oboInOwl:hasDbXref
    description: |
      All external database cross-references. Coverage: ~90% of diseases, avg 6.5 per disease.
    databases:
      medical: "UMLS (70%), MEDGEN (70%), SCTID (31%), MESH (28%), NCIT (25%)"
      genetic: "GARD (35%), DOID (39%), OMIM (33%), Orphanet (34%)"
      clinical: "ICD9 (19%), ICD11 (14%), ICD10CM (9%)"
      oncology: "ICDO (3%), ONCOTREE (2%)"
      phenotype: "EFO (8%), HP (2%)"
      japanese: "NANDO (8%)"
    sparql: |
      PREFIX owl: <http://www.w3.org/2002/07/owl#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>
      
      SELECT ?disease ?label ?xref
      FROM <http://rdfportal.org/ontology/mondo>
      WHERE {
        ?disease a owl:Class ;
          rdfs:label ?label ;
          oboInOwl:hasDbXref ?xref .
        # FILTER(STRSTARTS(?xref, "OMIM:"))
      }
      LIMIT 50

architectural_notes:
  schema_design:
    - OBO Foundry compliant with hierarchical rdfs:subClassOf
    - Single cross-reference property (hasDbXref) for all 39+ external databases
    - Exact and related synonyms for alternative names
  performance:
    - Use bif:contains for label searches (full-text index + scoring)
    - Add FILTER(isIRI(?parent)) to exclude blank nodes
    - STRSTARTS() efficient for cross-reference filtering
    - Always use LIMIT for exploratory queries (30K+ classes)
    - Cross-DB: 2-3s (two-way), 3-6s (three-way)
    - Pre-filtering provides 99%+ reduction before joins
  data_integration:
    - Genetic: OMIM, Orphanet, GARD
    - Clinical: ICD-9/10/11, UMLS, MEDGEN, SNOMED CT, MeSH
    - Disease ontologies: DOID, EFO
    - Oncology: ICDO, OncoTree
    - Shares "primary" endpoint with mesh, go, taxonomy, nando, bacdive, mediadive
  data_quality:
    - Exact synonyms are semantically equivalent
    - Related synonyms may have broader/narrower meaning
    - Obsolete terms marked with owl:deprecated
    - Cross-reference coverage varies by database (3-70%)

data_statistics:
  total_classes: 30304
  verified_date: "2025-02-04"
  verification_query: |
    SELECT (COUNT(DISTINCT ?class) as ?count)
    FROM <http://rdfportal.org/ontology/mondo>
    WHERE { ?class a owl:Class }
  
  active_diseases: 26371
  active_verification: |
    SELECT (COUNT(DISTINCT ?class) as ?active)
    FROM <http://rdfportal.org/ontology/mondo>
    WHERE {
      ?class a owl:Class .
      FILTER NOT EXISTS { ?class owl:deprecated true }
    }
  
  coverage:
    diseases_with_labels: ">99%"
    diseases_with_definitions: "~75%"
    diseases_with_cross_references: "~90%"
    diseases_with_synonyms: "~85%"
    mesh_cross_references: "~28%"
    nando_mappings_from_nando: "~84%"
  
  cardinality:
    avg_xrefs_per_disease: 6.5
    max_xrefs_per_disease: "50+"
    avg_synonyms_per_disease: 2.8
    avg_parents_per_disease: 1.2
  
  performance_characteristics:
    - "bif:contains: full-text search with relevance ranking"
    - "Transitive queries (subClassOf*): require specific starting points"
    - "Cross-DB: 2-3s (two-way), 3-6s (three-way)"
    - "Pre-filtering optimization: 99.97% reduction before joins"
  
  staleness_warning: "Monthly updates - verify current version for latest disease classifications"

anti_patterns:
  - title: Using FILTER Instead of bif:contains
    problem: No full-text index or relevance ranking.
    wrong_sparql: |
      SELECT ?label WHERE {
        ?disease rdfs:label ?label .
        FILTER(CONTAINS(LCASE(?label), "diabetes"))
      }
    correct_sparql: |
      SELECT ?label WHERE {
        ?disease rdfs:label ?label .
        ?label bif:contains "'diabetes'" option (score ?sc)
      }
      ORDER BY DESC(?sc)
    explanation: bif:contains uses full-text index and provides relevance scoring.

  - title: Not Filtering Blank Nodes
    problem: Returns OWL restrictions instead of named disease classes.
    wrong_sparql: |
      SELECT ?parent WHERE {
        ?disease rdfs:subClassOf ?parent
      }
    correct_sparql: |
      SELECT ?parent WHERE {
        ?disease rdfs:subClassOf ?parent .
        FILTER(isIRI(?parent))
      }
    explanation: FILTER(isIRI(?parent)) excludes blank node restrictions.

  - title: Cross-Database Query Without Pre-Filtering
    problem: Filtering after join causes timeout.
    wrong_sparql: |
      WHERE {
        GRAPH <http://rdfportal.org/ontology/mondo> {
          ?disease a owl:Class ;
            oboInOwl:hasDbXref ?meshXref .
          FILTER(STRSTARTS(?meshXref, "MESH:"))
        }
        BIND(URI(CONCAT("http://id.nlm.nih.gov/mesh/", SUBSTR(?meshXref, 6))) AS ?meshDesc)
        GRAPH <http://id.nlm.nih.gov/mesh> {
          ?meshDesc rdfs:label ?meshLabel .
        }
        FILTER(CONTAINS(?meshLabel, "diabetes"))
      }
    correct_sparql: |
      WHERE {
        GRAPH <http://rdfportal.org/ontology/mondo> {
          ?disease a owl:Class ;
            rdfs:label ?diseaseLabel ;
            oboInOwl:hasDbXref ?meshXref .
          FILTER(STRSTARTS(?meshXref, "MESH:"))
          ?diseaseLabel bif:contains "'diabetes'" option (score ?sc)
        }
        BIND(URI(CONCAT("http://id.nlm.nih.gov/mesh/", SUBSTR(?meshXref, 6))) AS ?meshDesc)
        GRAPH <http://id.nlm.nih.gov/mesh> {
          ?meshDesc rdfs:label ?meshLabel .
        }
      }
      ORDER BY DESC(?sc)
      LIMIT 10
    explanation: Pre-filtering in source GRAPH reduces 30K→~10 diseases (99.97% reduction) before MeSH join.

common_errors:
  - error: Query timeout on hierarchy traversal
    causes:
      - Unbounded rdfs:subClassOf* without starting point
      - Missing LIMIT clause
    solutions:
      - Start from specific disease class (e.g., obo:MONDO_0003847)
      - Add LIMIT 50-100 for exploratory queries
      - Use rdfs:subClassOf+ for ancestor-only

  - error: Cross-database query timeout
    causes:
      - Missing pre-filtering (Strategy 2)
      - Missing GRAPH clauses (Strategy 1)
      - Using multiple bif:contains in three-way queries
    solutions:
      - Apply FILTER within source GRAPH before join
      - Use explicit GRAPH clauses for each database
      - For three-way queries, use CONTAINS instead of multiple bif:contains
      - Add LIMIT to every query level
    example_fix: |
      # BEFORE (times out):
      WHERE {
        GRAPH <http://rdfportal.org/ontology/mondo> { ?d1 ?p1 ?o1 }
        GRAPH <http://id.nlm.nih.gov/mesh> { ?d2 ?p2 ?d1 }
        FILTER(?condition)
      }
      
      # AFTER (completes in 2s):
      WHERE {
        GRAPH <http://rdfportal.org/ontology/mondo> {
          ?d1 ?p1 ?o1 .
          FILTER(?condition)
        }
        GRAPH <http://id.nlm.nih.gov/mesh> { ?d2 ?p2 ?d1 }
      }
      LIMIT 10

  - error: Three-way query returns 400 error
    causes:
      - Combining multiple bif:contains across three databases
      - Query complexity exceeds endpoint limits
    solutions:
      - Use simplified CONTAINS instead of bif:contains in three-way queries
      - Keep third database GRAPH clause minimal
      - Test two-database queries first
    example_fix: |
      # FAILS (too complex):
      GRAPH <http://rdfportal.org/ontology/go> {
        ?goTerm a owl:Class .
        ?goLabel bif:contains "'dopamine'" option (score ?sc)
      }
      
      # WORKS:
      GRAPH <http://rdfportal.org/ontology/go> {
        ?goTerm rdfs:label ?goLabel .
        FILTER(CONTAINS(LCASE(?goLabel), "dopamine"))
      }
